<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Green Wave</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Overpass:300,400,500|Dosis:400,700" rel="stylesheet">
    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="css/aos.css">
    <link rel="stylesheet" href="css/ionicons.min.css">
    <link rel="stylesheet" href="css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="css/jquery.timepicker.css">
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
    <link rel="stylesheet" href="css/fancybox.min.css">

    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
      .img-hover {
          position: relative;
          display: block;
      }
      .gallery-heading {
          position: absolute;
          bottom: 0;
          left: 0;
          width: 100%;
          background: rgba(0, 0, 0, 0.6);
          color: #fff;
          padding: 8px 10px;
          text-align: center;
          font-size: 14px;
          font-weight: 500;
          z-index: 10;
          opacity: 0;
          transition: opacity 0.3s ease;
      }
      .img-hover:hover .gallery-heading {
          opacity: 1;
      }
      /* Ensure text is visible on mobile effectively or keep it always visible? 
         User req said "heading shud be at the bottom", commonly implies always visible or on hover. 
         Let's make it always visible for clarity as per "like this" usually implies static UI. 
         Actually, let's stick to simple overlay. */
      .gallery-heading {
          opacity: 1; /* Make it always visible as requested "like this" usually implies static */
      }
    </style>

  </head>
  <body>
    
  <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
    <div class="container">
      <a class="navbar-brand" href="index.html">Green Wave</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="oi oi-menu"></span> Menu
      </button>

      <div class="collapse navbar-collapse" id="ftco-nav">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>

          <li class="nav-item"><a href="donate.html" class="nav-link">Community Members</a></li>
          <li class="nav-item active"><a href="gallery.html" class="nav-link">Gallery</a></li>
          <li class="nav-item"><a href="blog.html" class="nav-link">Blog</a></li>
          <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>

        </ul>
      </div>
    </div>
  </nav>
  <!-- END nav -->
  
  <div class="block-31" style="position: relative;">
    <div class="owl-carousel loop-block-31 ">
      <div class="block-30 block-30-sm item" style="background-image: url('images/bg_1.jpg');" data-stellar-background-ratio="0.5">
        <div class="container">
          <div class="row align-items-center justify-content-center text-center">
            <div class="col-md-7">
              <h2 class="heading">Our Gallery</h2>
            </div>
          </div>
        </div>
      </div>
      
    </div>
  </div>

  <div class="site-section">
    <div class="container">
      <div class="row" id="gallery-container">
        <!-- Dynamic gallery will be loaded here -->
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="row mb-5">
        <div class="col-md-6 col-lg-4">
          <h3 class="heading-section">About Us</h3>
          <p class="lead">Separated by distance but connected by vision, the youth of GreenWave gather right at the frontlines of the environmental crisis. </p>
          <p class="mb-5">They do not just observe the changing tides; they are the current. In this large ocean of challenges, they build the bridges of education and community care, ensuring that no call for help goes unanswered and no leaf is left unturned.</p>
        </div>
        <div class="col-md-6 col-lg-4">
          <h3 class="heading-section">Recent Blog</h3>
          <div id="footer-recent-blogs">
            <!-- Dynamic footer blogs will be loaded here -->
          </div>
        </div>
        <div class="col-md-6 col-lg-4">
          <div class="block-23">
            <h3 class="heading-section">Get Connected</h3>
            <ul>
              <li><a href="#"><span class="icon icon-phone"></span><span class="text">+94 77 084 7338</span></a></li>
              <li><a href="#"><span class="icon icon-envelope"></span><span class="text">greenwave074@gmail.com</span></a></li>
              <li><a href="https://www.facebook.com/profile.php?id=61565423006715&mibextid=ZbWKwL"><span class="icon icon-facebook"></span><span class="text">Facebook</span></a></li>
              <li><a href="https://wa.me/+94770847338"><span class="icon icon-whatsapp"></span><span class="text">Whatsapp</span></a></li>
            </ul>
          </div>
        </div>


      </div>
      <div class="row pt-5">
        <div class="col-md-12 text-center">

          <p>
            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved by Cortex.A
          </p>

        </div>
      </div>
    </div>
  </footer>

  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/bootstrap-datepicker.js"></script>

  <script src="js/jquery.fancybox.min.js"></script>
  
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/contentful@latest/dist/contentful.browser.min.js"></script>
  <script src="js/contentful-config.js"></script>
  <script src="js/main.js"></script>
    
  <script>
    // Load Gallery from Contentful
    document.addEventListener('DOMContentLoaded', function() {
        const galleryContainer = document.getElementById('gallery-container');

        if (galleryContainer) {
            client.getEntries({
                content_type: 'gallery',
                order: '-sys.createdAt'
            })
            .then((response) => {
                response.items.forEach((item) => {
                    const fields = item.fields;
                    let imgUrl = 'images/image_1.jpg'; // Fallback
                    if (fields.image && fields.image.fields && fields.image.fields.file) {
                        imgUrl = fields.image.fields.file.url;
                    }
                    const heading = fields.heading || '';

                    const html = `
                        <div class="col-md-4 mb-4">
                          <a href="${imgUrl}" class="img-hover" data-fancybox="gallery" data-caption="${heading}">
                            <span class="icon icon-search"></span>
                            <img src="${imgUrl}" alt="${heading}" class="img-fluid">
                            <div class="gallery-heading">${heading}</div>
                          </a>
                        </div>
                    `;
                    galleryContainer.insertAdjacentHTML('beforeend', html);
                });
            })
            .catch(err => console.error("Error loading gallery:", err));
        }
    });
  </script>
</body>
</html>